server {
    listen 80;
    
    # Корень, где лежат ваши index.html и папка assets
    root /usr/share/nginx/html;
    index index.html;

    # Поддержка запросов, начинающихся с /react-counter
    location /react-counter/ {
        # try_files проверит наличие файла, затем папки, 
        # и если не найдет — отдаст index.html для SPA роутинга
        try_files $uri $uri/ /index.html;
    }

    # Прямая обработка ассетов, чтобы не было проблем с MIME-типами
    location /react-counter/assets/ {
        # Убираем префикс из пути к файлу на диске
        rewrite ^/react-counter/(.*)$ /$1 break;
        try_files $uri =404;
    }

    # Для запросов к самому корню (если нужно)
    location / {
        try_files $uri $uri/ /index.html;
    }
}